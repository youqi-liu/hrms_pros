{"ast":null,"code":"import { getWageBankCardVoList, setRosterWageBankNumber, auditWage } from \"./api.js\";\nexport default {\n  name: \"yongYingIndex\",\n  components: {},\n  data() {\n    return {\n      loading: false,\n      columns: [{\n        type: \"index\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"申请人\",\n        key: \"userName\",\n        minWidth: 80,\n        sortable: true\n      }, {\n        title: \"申请金额\",\n        key: \"moneyData\",\n        minWidth: 80,\n        sortable: true\n      }, {\n        title: \"申请时间\",\n        key: \"salaryTime\",\n        minWidth: 80,\n        sortable: true\n      }, {\n        title: \"月份\",\n        key: \"mouth\",\n        minWidth: 80,\n        sortable: true\n      }, {\n        title: \"状态\",\n        key: \"status\",\n        minWidth: 80,\n        sortable: true,\n        render: (h, params) => {\n          if (params.row.status == 1) {\n            return h(\"div\", [h(\"span\", {\n              style: {\n                color: \"#3CB371\"\n              }\n            }, \"审核通过\")]);\n          } else {\n            return h(\"div\", [h(\"span\", {\n              style: {\n                color: \"#ff0000\"\n              }\n            }, \"待审核\")]);\n          }\n        }\n      }, {\n        title: \"操作\",\n        key: \"action\",\n        align: \"center\",\n        width: 200,\n        render: (h, params) => {\n          if (params.row.status == 0) {\n            return h(\"div\", [h(\"Button\", {\n              props: {\n                type: \"error\",\n                size: \"small\"\n              },\n              on: {\n                click: () => {\n                  this.remove(params.row);\n                }\n              }\n            }, \"审核\")]);\n          } else {\n            return h(\"div\", [h(\"span\", {\n              style: {\n                color: \"#ff0000\"\n              }\n            }, \"已审核\")]);\n          }\n        }\n      }, {\n        title: \"审核人\",\n        key: \"auditName\",\n        minWidth: 80,\n        sortable: true\n      }, {\n        title: \"审核时间\",\n        key: \"auditTime\",\n        minWidth: 80,\n        sortable: true\n      }],\n      userData: [],\n      searchForm: {\n        pageNumber: 1,\n        pageSize: 15,\n        status: '0',\n        sort: \"createTime\",\n        order: \"asc\",\n        username: '',\n        jobnumber: '',\n        systemGuishu: '1314520'\n      },\n      total: 0,\n      nowInputRow: {}\n    };\n  },\n  methods: {\n    init() {\n      this.getDataList();\n    },\n    getDataList() {\n      var that = this;\n      that.loading = true;\n      getWageBankCardVoList(this.searchForm).then(res => {\n        console.log(res);\n        that.userData = res.result;\n        that.loading = false;\n      });\n    },\n    saveByInputRemark() {\n      var that = this;\n      setRosterWageBankNumber({\n        id: that.nowInputRow.id,\n        moneyData: that.nowInputRow.moneyData\n      }).then(res => {\n        if (res.success) {\n          this.$Message.success(\"修改成功\");\n        } else {\n          this.$Message.error(\"修改失败\");\n        }\n      });\n    },\n    changePage(v) {\n      this.searchForm.pageNumber = v;\n      this.getDataList();\n    },\n    changePageSize(v) {\n      this.searchForm.pageSize = v;\n      this.getDataList();\n    },\n    remove(v) {\n      var that = this;\n      this.$Modal.confirm({\n        title: \"再次确认\",\n        content: \"您确认审核工资提现申请?\",\n        loading: true,\n        onOk: () => {\n          auditWage({\n            id: v.id\n          }).then(res => {\n            this.$Modal.remove();\n            if (res.success) {\n              this.$Message.success(\"操作成功\");\n              that.getDataList();\n            }\n          });\n        }\n      });\n    }\n  },\n  mounted() {\n    this.init();\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}